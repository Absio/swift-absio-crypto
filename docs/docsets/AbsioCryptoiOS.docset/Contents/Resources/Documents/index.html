<!DOCTYPE html>
<html lang="en">
  <head>
    <title>AbsioCryptoiOS  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="AbsioCryptoiOS  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">AbsioCryptoiOS 1.2.0 Docs</a> (86% documented)</p>
        <p class="header-right"><a href="https://github.com/Absio/swift-absio-crypto"><img src="img/gh.png"/>View on GitHub</a></p>
        <p class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">AbsioCryptoiOS Reference</a>
        <img id="carat" src="img/carat.png" />
        AbsioCryptoiOS  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/AES.html">AES</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AES/KeyStrenght.html">– KeyStrenght</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AES/Algorithm.html">– Algorithm</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AbsioIESHelper.html">AbsioIESHelper</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AbsioIESHelper/AbsioIESError.html">– AbsioIESError</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AbsioIESStruct.html">AbsioIESStruct</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Cipher.html">Cipher</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Cipher.html#/s:14AbsioCryptoiOS6CipherC5ErrorO">– Error</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DER.html">DER</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ECCHelper.html">ECCHelper</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ECDH.html">ECDH</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ECDSA.html">ECDSA</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ECDSA.html#/s:14AbsioCryptoiOS5ECDSAC10ECDSAErrorO">– ECDSAError</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ECDSA.html#/s:14AbsioCryptoiOS5ECDSAC13HashAlgorithmO">– HashAlgorithm</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ECPrivateKey.html">ECPrivateKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ECPublicKey.html">ECPublicKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/HMAC.html">HMAC</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/HMAC/Algorithm.html">– Algorithm</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/IndexedECPrivateKey.html">IndexedECPrivateKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/IndexedECPublicKey.html">IndexedECPublicKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/KDF2.html">KDF2</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/KeyFile.html">KeyFile</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/KeyFile/KeyFileError.html">– KeyFileError</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MacHelper.html">MacHelper</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MacHelper.html#/s:14AbsioCryptoiOS9MacHelperC0D5ErrorO">– MacError</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MacHelper/MacAlgorithm.html">– MacAlgorithm</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/P384.html">P384</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/P384/P384Error.html">– P384Error</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PBKDF2.html">PBKDF2</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PBKDF2Helper.html">PBKDF2Helper</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PEM.html">PEM</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/ECKeyGenarator.html">ECKeyGenarator</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Hash.html">Hash</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Hash.html#/s:14AbsioCryptoiOS4HashO5ErrorO">– Error</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/KeyFileSettings.html">KeyFileSettings</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/KeyFileSettingsError.html">KeyFileSettingsError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/KeyError.html">KeyError</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='a-href-https-www-absio-com-img-src-logo-png-alt-absiocrypto-a' class='heading'><a href="https://www.absio.com"><img src="logo.png" alt="AbsioCrypto"></a></h1>
<h1 id='absio-crypto-sdk-for-macos-and-ios' class='heading'>Absio Crypto SDK for macOs and iOs</h1>
<h2 id='about' class='heading'>About</h2>

<p>The Absio Crypto SDK provides basic cryptographic operations: key generation, key exchange, encyption/decryption, HMAC, signing, hashing and elliptic curve cryptography (ECC). A custom Integrated Encryption Scheme (IES) for confidentiality and source verification is included as part of the ECC features.</p>
<h2 id='basics' class='heading'>Basics</h2>

<p>Genaral technology overview and toolset can be found <a href="http://docs.absio.com/#technologytools">here</a></p>
<h2 id='requirements' class='heading'>Requirements</h2>

<ul>
<li>iOS 12.0 and higher</li>
<li>macOs 10.14 and higher</li>
<li>Xcode 12.5 and higher</li>
<li>Swift 5.0 and higher</li>
</ul>
<h3 id='install' class='heading'>Install</h3>

<p>Currently we are supporting CocoaPods. 
If you are new to using pods please visit getting started <a href="https://guides.cocoapods.org/using/getting-started.html">page</a>.</p>

<p>To get our pod instantly please use line below</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'AbsioCrypto'</span><span class="p">,</span> <span class="s1">'~&gt; 1.2.0'</span>
</code></pre>
<h4 id='strong-note-strong' class='heading'><strong>Note:</strong></h4>

<p>We are distributing fat libraries to support both simulator and different architectures. If you will have <strong>issues with validation/submitting</strong> your application to App Store. Please insert content of <a href="cut-architectures.sh">cut-architectures.sh</a> into &lsquo;Build Phases&rsquo; of your application with &lsquo;New Run Script Phase&rsquo;. This will strip unused architectures for simulators and validation should went smooth.</p>
<h2 id='documentation' class='heading'>Documentation</h2>

<p>Latest documentation can be found at our docs <a href="http://docs.absio.com/#technologydata">page</a></p>

<p>The API reference is located at our Github <a href="https://absio.github.io/swift-absio-crypto/">page</a>.</p>
<h2 id='symmetric-features' class='heading'>Symmetric Features</h2>

<p>The SDK will perform symmetric key generation, encryption and decryption. By default the SDK will use AES 256.</p>
<h3 id='symmetric-key-generation' class='heading'>Symmetric Key Generation</h3>
<pre class="highlight plaintext"><code>let cipher = Cipher()
let aes256Key = cipher.generateKey()
</code></pre>
<h3 id='symmetric-encryption' class='heading'>Symmetric Encryption</h3>
<pre class="highlight plaintext"><code>let cipher = Cipher()
let ciphertextBytes = try cipher.encrypt(key: keyBytes, iv: ivBytes, data: plaintextBytes)
</code></pre>
<h3 id='symmetric-decryption' class='heading'>Symmetric Decryption</h3>
<pre class="highlight plaintext"><code>let cipher = Cipher()
let plaintextBytes = try cipher.decrypt(key: keyBytes, iv: ivBytes, data: ciphertextBytes)
</code></pre>
<h2 id='hashing' class='heading'>Hashing</h2>

<p>By default the SDK use SHA384 for hashing operations. 
But you have also access to SHA256 SHA384 SHA512</p>
<pre class="highlight plaintext"><code>let hashBytes256 = Hash.sha256.perform(on: dataBytes)
let hashBytes384 = Hash.sha384.perform(on: dataBytes)
let hashBytes512 = Hash.sha512.perform(on: dataBytes)
</code></pre>
<h2 id='absio-integrated-encryption-scheme' class='heading'>Absio Integrated Encryption Scheme</h2>

<p>Included in the ECC module is a special Integrated Encryption Scheme. In this scheme ECDH is computed using the recipient user&rsquo;s public derivation key. The resultant key is used to encrypt the data. That data is then signed with the sending user&rsquo;s signing key. By default this will use AES 256 CTR NoPadding along with ECDH and ECDSA both using curve P384.</p>
<h3 id='absio-ies-encrypt' class='heading'>Absio IES Encrypt</h3>
<pre class="highlight plaintext"><code>let encrypted = try AbsioIESHelper.encrypt(data: data, signingPrivateKey: alicePrivateKey, derivationPublicKey: bobPublicKey, userId: aliceId, objectId: objectId)
</code></pre>
<h3 id='absio-ies-decrypt' class='heading'>Absio IES Decrypt</h3>
<pre class="highlight plaintext"><code>let decrypted = try AbsioIESHelper.decrypt(data: encrypted, derivationPrivateKey: bobPrivateKey, signingPublicKey: alicePublicKey)
</code></pre>
<h2 id='key-derivation-function' class='heading'>Key Derivation Function</h2>

<p>The SDK can be used to derive keys using KDF2 as well. By default it will generate keys using a SHA384 Message Digest.</p>
<pre class="highlight plaintext"><code>let kdf2 = KDF2()
let keyBytes = kdf2.deriveKey(seed: testSeedBytes, keySize: keySizeInBytes)
</code></pre>
<h2 id='password-based-key-derivation-function' class='heading'>Password Based Key Derivation Function</h2>

<p>The SDK can be used to derive keys using PBKDF2 as well. By default it will use HMACSHA384, AES256 in CTR mode with no padding and UTF-8 encoding.</p>
<h3 id='key-generation' class='heading'>Key Generation</h3>
<pre class="highlight plaintext"><code>let pbkdf2 = PBKDF2();
let keyBytes = pbkdf2.generateDerivedKey(password: password, salt: salt, iterationCount: iterationCount, derivedKeyLength: derivedKeyLength)
</code></pre>
<h3 id='encrypt' class='heading'>Encrypt</h3>
<pre class="highlight plaintext"><code>let helper = PBKDF2Helper()
let formattedCiphertextBytes = try helper.encryptToFormat(data: plaintextBytes, salt: saltBytes, password: "password", iterationCount: 100000)
</code></pre>
<h3 id='decrypt' class='heading'>Decrypt</h3>
<pre class="highlight plaintext"><code>let helper = PBKDF2Helper()
let plaintextBytes = try helper.decryptFromFormat(formattedData: formattedCiphertextBytes, password: "password", iterationCount: 100000)
</code></pre>
<h2 id='asymmetric-features' class='heading'>Asymmetric Features</h2>

<p>The SDK can generate key pairs and perform encryption and decryption with Absio IES(Integrated Encryption Scheme). By default this will create Elliptic Curve keys.</p>
<h3 id='asymmetric-key-generation' class='heading'>Asymmetric Key Generation</h3>
<pre class="highlight plaintext"><code>let p384PrivateKey = try ECKeyGenarator.p384.generatePrivateKey()
let p384PublicKey = try p384PrivateKey.publicKey()
</code></pre>
<h2 id='diffie-hellman-key-exchange' class='heading'>Diffie-Hellman Key Exchange</h2>

<p>The SDK can compute the shared secret for a Diffie-Hellman key exchange. </p>
<pre class="highlight plaintext"><code>let sharedSecretBytes = ECDH.exchange(privateKey: privateKey, publicKey: publicKey)
</code></pre>
<h2 id='hmac' class='heading'>HMAC</h2>

<p>The SDK will perform HMAC operations to ensure data integrity. By default Absio supports: HMAC-SHA384.</p>
<h3 id='key-generation' class='heading'>Key Generation</h3>
<pre class="highlight plaintext"><code>let key = try MacHelper.MacAlgorithm.HMACSHA384.generateKey()
</code></pre>
<h3 id='digest' class='heading'>Digest</h3>

<p>By default it will perform HMAC-SHA384.</p>
<pre class="highlight plaintext"><code>let helper = MacHelper()
let digestBytes = try helper.generateDigest(data: dataBytes, key: secretKey)
</code></pre>
<h3 id='digest-verify' class='heading'>Digest Verify</h3>
<pre class="highlight plaintext"><code>let helper = MacHelper()
let verified = try helper.verifyDigest(digest: generatedDigest, data: dataBytes, key: secretKey)
</code></pre>
<h2 id='signature' class='heading'>Signature</h2>

<p>The SDK can perform signing operations: sign and verify. By default Absio supports: ECDSA signing with SHA384.</p>
<h3 id='signing' class='heading'>Signing</h3>
<pre class="highlight plaintext"><code>let ecdsa = ECDSA()
let signatureBytes = try ecdsa.sign(digest: dataBytes, privateKey: privateKey)
</code></pre>
<h3 id='signature-verification' class='heading'>Signature Verification</h3>
<pre class="highlight plaintext"><code>let ecdsa = ECDSA()
let signatureBytes = try ecdsa.verify(digest: dataBytes, signature: signatureBytes, publicKey: publicKey)
</code></pre>
<h2 id='elliptic-curve-cryptograpy-operations' class='heading'>Elliptic Curve Cryptograpy Operations</h2>

<p>The SDK has a helper class (ECCHelper) to perform all the basic ECC operations. This allows you to use a single helper to perform all ECC operations. See below for its usage. By default this will use curve P384 and AES256 for the IES encryption.</p>
<h3 id='generate-key' class='heading'>Generate Key</h3>
<pre class="highlight plaintext"><code>let helper = ECCHelper()
let ecPrivateKey = try helper.generatePrivateKey()
let ecPublicKey = try ecPrivateKey.publicKey()
</code></pre>
<h3 id='ecdh-generate-shared-key' class='heading'>ECDH Generate Shared Key</h3>
<pre class="highlight plaintext"><code>let eccHelper = ECCHelper()
let sharedKey = try eccHelper.generateDHSharedKey(privateKey: privateKey, publicKey: publicKey)
</code></pre>
<h3 id='ecdh-generate-shared-secret' class='heading'>ECDH Generate Shared Secret</h3>
<pre class="highlight plaintext"><code>let helper = ECCHelper()
let sharedSecretRecreated = try eccHelper.generateDHSharedSecret(privateKey: privateKey, publicKey: publicKey)
</code></pre>
<h3 id='absio-ies-encrypt' class='heading'>Absio IES Encrypt</h3>
<pre class="highlight plaintext"><code>let eccHelper = ECCHelper()
let iesDataBytes = try eccHelper.absioIESEncrypt(data: data, signingPrivateKey: alicePrivateKey, derivationPublicKey: bobPublicKey, userId: aliceId, objectId: objectId)
</code></pre>
<h3 id='ies-decrypt' class='heading'>IES Decrypt</h3>
<pre class="highlight plaintext"><code>let eccHelper = ECCHelper()
let plaintextBytes = try eccHelper.absioIESDecrypt(absioIESData: iesDataBytes, signingPublicKey: alicePublicKey, derivationPrivateKey: bobPrivateKey)
</code></pre>
<h3 id='sign' class='heading'>Sign</h3>
<pre class="highlight plaintext"><code>let eccHelper = ECCHelper()
let signatureBytes = try eccHelper.sign(digest: dataBytes, privateKey: privateKey)
</code></pre>
<h3 id='verify-signature' class='heading'>Verify Signature</h3>
<pre class="highlight plaintext"><code>let eccHelper = ECCHelper()
let signatureBytes = try eccHelper.verify(digest: dataBytes, signature: signatureBytes, publicKey: publicKey)
</code></pre>
<h2 id='license' class='heading'>License</h2>

<p>Please visit out license page at <a href="http://docs.absio.com/#licenselicense">absio.com</a></p>
<h2 id='getting-help' class='heading'>Getting Help</h2>

<ul>
<li><p>Please contact us at <a href="mailto:support@absio.com">support@absio.com</a> if you experience issues,  want to submit feeback, or have general questions about the technology</p></li>
<li><p>Have a bug to report? <a href="https://github.com/Absio/swift-absio-sdk/issues">Open an issue</a>. If possible, include the version of Absio SDK, a full log, and description on how to reproduce.</p></li>
</ul>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2021 <a class="link" href="https://www.absio.com" target="_blank" rel="noopener" rel="external">Absio</a>. All rights reserved. (Last updated: 2021-09-28)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="noopener" rel="external">jazzy ♪♫ v0.14.0</a>, a <a class="link" href="https://realm.io" target="_blank" rel="noopener" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
